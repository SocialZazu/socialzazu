<template name="flag_control">
  <div class="pull-right" style="cursor:pointer">
    <a class="flag">
      <i class="{{flag_on}}"></i>
    </a>
  </div>
</template>

<template name="home">
  <div class="row-fluid searchMap">
    <div class="span12">
      {{> search_map}}
    </div>
  </div>
  <div class="row-fluid">
    <div class="span6 searchServices">
      {{> search_services service_datums}}
    </div>
    <div class="span6 searchLocations">
      {{> search_locations location_datums}}
    </div>
  </div>
  <div class="row-fluid" id="homeBigBlock">
    <div id="services_home">
      {{> services_sidebar}}
    </div>
    <div id="map_home">
      {{> map_home}}
    </div>
  </div>
</template>

<template name="map_home">
      {{#constant}}
      <div id="map_canvas"></div>
      {{/constant}}
</template>

<template name="location_address">
  <div class="row-fluid">
    <div class="span2">
      Address:
    </div>
    <div class="span9 offset1">
      {{#each this}}
      <div class="row-fluid">
        {{street}}
      </div>
      <div class="row-fluid">
        {{city}}, {{state}}, {{zipcode}}
      </div>
      {{/each}}
    </div>
  </div>
</template>

<template name="location_contact">
  <div class="row-fluid">
    <div class="span2">
      Contact:
    </div>
    <div class="span9 offset1">
      {{#if name}}
      <div class="row-fluid">
        {{name}}, {{title}}
      </div>
      {{/if}}
      {{#each phones}}
      <div class="row-fluid">
        <a href="#">{{number}}</a>
      </div>
      {{/each}}
      {{#if email}}
      <div class="row-fluid">
        {{email}}
      </div>
      {{/if}}
      {{#if url}}
      <div class="row-fluid">
        {{url}}
      </div>
      {{/if}}
    </div>
  </div>
</template>

<template name="location_hours">
  <div class="row-fluid">
    <div class="span2">
      Hours:
    </div>
    <div class="span9 offset1">
      {{#if has_hours}}
      {{#each day_of_week}}
      <div class="row-fluid">
        <div class="span3">{{day}}</div>
        {{#if closed}}
        <div class="span3 offset1">
          Closed
        </div>
        {{else}}
        <div class="span3 offset1">
          {{open}}
        </div>
        <div class="span3 offset1">
          {{close}}
        </div>
        {{/if}}
      </div>
      {{/each}}
      {{else}}
      Unknown
      {{/if}}
    </div>
  </div>
</template>

<template name="location_inputs">
  {{#if has_fields}}
  <div class="row-fluid">
    <div class="span2">
      {{#each fields}}
      <div class="row-fluid">
        {{capitalize this}}
      </div>
      {{/each}}
    </div>
    <div class="span9 offset1">
      {{#each values}}
      <div class="row-fluid">
        {{this}}
      </div>
      {{/each}}
    </div>
  </div>
  {{/if}}
</template>

<template name="location_list">
  {{#if has_elems}}
  <div class="row-fluid">
    <div class="span2">
      {{field}}:
    </div>
    <div class="span9 offset1">
      {{#each list}}
      <a class="btn btn-default btn-small" href="#">
        {{this}}
      </a>
      {{/each}}
    </div>
  </div>
  {{/if}}
</template>

<template name="location_well">
  <div class="box-wrapper">
    <div class="box">
      <div class="controls-wrapper highcontrols-wrapper">
        <div class="row-fluid">
          <div class="span10">
            <a style="font-size:130%" href="{{url}}">{{name}}</a>
          </div>
          <div class="span2">
            {{> flag_control }}
          </div>
        </div>
        <div class="row-fluid">
          <small class="muted">
            {{#each sub_services}}
            <a href="#">{{name}} </a>
            {{#unless last}}
            |
            {{/unless}}
            {{/each}}
          </small>
        </div>
        <hr>
        <div class="row-fluid">
          {{short_desc}}
        </div>
        <hr>
        {{> location_address address}}
        {{> location_contact contact}}
        {{> location_hours hours}}
        {{> location_inputs single_inputs}}
        {{> location_list accessibility}}
        {{> location_list languages}}
      </div>
    </div>
  </div>
</template>

<template name="search_locations">
  <form id="search_locations_form" class="form-search form-horizontal">
    <div class="input-append">
      <input id="search_locations_field" type="text" class="search-query" placeholder="Search Locations">
      <button type="button" class="btn"><i class="fa fa-search"></i></button>
    </div>
  </form>
</template>

<template name="search_services">
  <form id="search_services_form" class="form-search form-horizontal">
    <div class="input-append">
      <input id="search_services_field" type="text" class="search-query" placeholder="Search Services">
      <button type="button" class="btn"><i class="fa fa-search"></i></button>
    </div>
  </form>
</template>

<template name="services_sidebar">
  <div class="slidePanel">
    <div class="slidePanelItem">
      <ul>
        {{#each services}}
        {{> service_box}}
        {{/each}}
      </ul>
    </div>
  </div>
</template>

<template name="search_map">
  <form class="form-search form-horizontal">
    <div class="input-append">
      <input id="search_map_field" type="text" size="200" placeholder="Change Location" style="border-top-left-radius:14px; border-bottom-left-radius:14px;">
      {{> find_me_map}}
    </div>
  </form>
</template>

<template name="service_box">
  <li>
    <span class="serviceBoxIcon {{name}}"></span>
    <span class="serviceBoxName">{{name}}</span>
    <span class="serviceBoxCount">{{count}}</span>
  </li>
</template>

<template name="show_map_locations">
  {{#if has_map_locations }}
    {{#each map_locations}}
      {{> location_well}}
    {{/each}}
  {{/if}}
</template>
